<tool id="isatab" name="ISA-Tab Importer" version="0.1.0">

	<description>Import ISA TAB data format from public and private MetaboLights studies</description>

	<!--~~~~~~~
	~ COMMAND ~
	~~~~~~~~-->

	<command><![CDATA[
		## @@@BEGIN_CHEETAH@@@
		$__tool_directory__/mtbls-dwnld

		#if $token:
			-t "$token"
		#end if

##		-H "$isatab_output"
		-o "$isatab_output.files_path"
		"$study"
		## @@@END_CHEETAH@@@
	]]></command>

	<!--~~~~~~
	~ INPUTS ~
	~~~~~~~-->

	<inputs>
		<param name="study" type="text" label="Study path at MetaboLights FTP Server" help="This should be obtained from the MetaboLights website." />
		<param optional="true" format="txt" name="token" type="text" label="Token or password"  help=""/>
	</inputs>

    <outputs>
<!-- DEBUG galaxy.datatypes.registry WARNING 2016-10-26 07:19:30,511 unknown mimetype in data factory isatab
 -->
        <data name="isatab_output" label="ISA-Tab of $study" format="isatab"/>
<!--        <data name="isatab_output" label="ISA-Tab of ${study}.html" format="html"/> -->
    </outputs>

<!--    <tests>
        <test>
            <param name="name_of_study" value="test" />
            <param name="inputzip" value="metabolomics_study.zip" />
            <output name="output" value="metabolomics_study/test/index.html" />
        </test>
    </tests>-->
    <help><![CDATA[
**Overview**
A tool to transfer MetaboLights studies. 
    ]]></help>
    <!--<citations>
        <citation type="doi">10.1002/0471250953.bi1413s53</citation>
        <citation type="doi">10.1007/s11306-015-0879-3</citation>
        <citation type="doi">10.1038/ng.1054</citation>
    </citations>-->
</tool>
